spring.application.name=quantlab-api

spring.datasource.url=jdbc:postgresql://localhost:7666/quantlab
spring.datasource.username=quantlab
spring.datasource.password=quantlab
spring.datasource.driver-class-name=org.postgresql.Driver

# Bhavcopy file directory
# Directory containing NSE Bhavcopy CSV files (sec_bhavdata_full_*.csv)
bhavcopy.file.dir=/Users/anuj/Documents/ai-projects/quantlab/files

# Bhavcopy Parallel Processing Configuration
# Core pool size for async task executor (default: 2)
# Conservative value to avoid overwhelming the database
bhavcopy.async.corePoolSize=2

# Maximum pool size for async task executor (default: 4)
# Limits maximum concurrent file processing threads
bhavcopy.async.maxPoolSize=4

# Queue capacity for pending tasks (default: 10)
# Limits memory usage when many files are pending
bhavcopy.async.queueCapacity=10

# Screening Parallel Processing Configuration
# Core pool size for screening task executor (default: 4)
# Higher for I/O-bound screening operations (market data fetching, DB queries)
screening.async.corePoolSize=4

# Maximum pool size for screening task executor (default: 8)
# For parallel strategy and instrument processing
screening.async.maxPoolSize=8

# Market Data Configuration
marketdata.providers.primary=database
marketdata.providers.fallback=yahoo

# Yahoo Finance Configuration
marketdata.yahoo.baseUrl=https://query1.finance.yahoo.com/v8/finance/chart
marketdata.yahoo.timeout=3000
marketdata.yahoo.retryCount=1
marketdata.yahoo.cacheEnabled=true
marketdata.yahoo.cacheTtlMinutes=15

# Market Data Provider Settings
marketdata.backtest.allowYahooFallback=false
marketdata.screening.requireLatestData=true

# Position Management Scheduler Configuration
# Cron expression for market close position management (default: 4:00 PM EST, Mon-Fri)
position.scheduler.cron=0 0 16 * * MON-FRI

# Cron expression for end-of-day reconciliation (default: 5:00 PM EST, Mon-Fri)
position.scheduler.eod.cron=0 0 17 * * MON-FRI

# Enable intraday position monitoring (runs every 15 minutes during market hours)
position.scheduler.intraday.enabled=false
